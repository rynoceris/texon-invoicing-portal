{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE='/texon-inventory-comparison/api';// Login Component\nfunction Login(_ref){let{onLogin}=_ref;const[credentials,setCredentials]=useState({username:'',password:''});const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);setError('');try{const response=await fetch(`${API_BASE}/auth/login`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(credentials)});const data=await response.json();if(response.ok){localStorage.setItem('token',data.token);localStorage.setItem('user',JSON.stringify(data.user));onLogin(data.user,data.token);}else{setError(data.error||'Login failed');}}catch(error){setError('Network error. Please try again.');}setIsLoading(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Texon Inventory Comparison\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please log in to access the inventory management system\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:credentials.username,onChange:e=>setCredentials({...credentials,username:e.target.value}),required:true,autoComplete:\"username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:credentials.password,onChange:e=>setCredentials({...credentials,password:e.target.value}),required:true,autoComplete:\"current-password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"btn-primary\",children:isLoading?'Logging in...':'Login'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-help\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Default Admin Credentials:\"})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Username: \",/*#__PURE__*/_jsx(\"code\",{children:\"admin\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Password: \",/*#__PURE__*/_jsx(\"code\",{children:\"changeme123\"})]}),/*#__PURE__*/_jsx(\"small\",{children:\"\\u26A0\\uFE0F Change these after first login!\"})]})]})});}// Dashboard Component\nfunction Dashboard(_ref2){let{token}=_ref2;const[configStatus,setConfigStatus]=useState(null);const[latestReport,setLatestReport]=useState(null);const[isRunning,setIsRunning]=useState(false);const[comparisonResult,setComparisonResult]=useState(null);useEffect(()=>{loadConfigStatus();loadLatestReport();},[]);const loadConfigStatus=async()=>{try{const response=await fetch(`${API_BASE}/config-status`,{headers:{'Authorization':`Bearer ${token}`}});const data=await response.json();setConfigStatus(data);}catch(error){console.error('Error loading config status:',error);}};const loadLatestReport=async()=>{try{const response=await fetch(`${API_BASE}/latest-report`,{headers:{'Authorization':`Bearer ${token}`}});const data=await response.json();setLatestReport(data);}catch(error){console.error('Error loading latest report:',error);}};const runComparison=async()=>{setIsRunning(true);setComparisonResult({message:'üîÑ Starting inventory comparison...'});try{// Start the comparison (don't wait for completion)\nfetch(`${API_BASE}/run-comparison`,{method:'POST',headers:{'Authorization':`Bearer ${token}`}}).catch(err=>{console.log('Background comparison may have completed despite error:',err);});// Remember the start time to identify new reports\nconst comparisonStartTime=new Date();// Poll for results every 10 seconds\nlet attempts=0;const maxAttempts=36;// 6 minutes total (36 * 10 seconds)\nconst pollForResults=async()=>{attempts++;try{// Check for new reports\nconst reportsResponse=await fetch(`${API_BASE}/latest-report`,{headers:{'Authorization':`Bearer ${token}`}});if(reportsResponse.ok){const latestReport=await reportsResponse.json();// Check if this is a new report (created after we started)\nif(latestReport&&latestReport.created_at){const reportTime=new Date(latestReport.created_at);if(reportTime>comparisonStartTime){// New report found! Comparison completed successfully\nconst successResult={success:true,totalDiscrepancies:latestReport.total_discrepancies,brightpearlItems:latestReport.brightpearl_total_items,infoplusItems:latestReport.infoplus_total_items,discrepancies:JSON.parse(latestReport.discrepancies||'[]'),message:`‚úÖ Comparison completed! Found ${latestReport.total_discrepancies} discrepancies.`};setComparisonResult(successResult);setLatestReport(latestReport);// Update the latest report display\nsetIsRunning(false);return;// Success - stop polling\n}}}// Not completed yet, continue polling if we haven't exceeded max attempts\nif(attempts<maxAttempts){const elapsed=Math.floor(attempts*10);setComparisonResult({message:`üîÑ Comparison in progress... (${elapsed}s elapsed)`});setTimeout(pollForResults,10000);// Check again in 10 seconds\n}else{// Timed out\nsetComparisonResult({message:'‚è∞ Comparison is taking longer than expected. Please check the Reports tab manually in a few minutes.',error:'Timeout - comparison may still be running in background'});setIsRunning(false);}}catch(pollError){console.error('Polling error:',pollError);if(attempts<maxAttempts){// Continue polling despite the error\nsetTimeout(pollForResults,10000);}else{setComparisonResult({message:'‚ö†Ô∏è Unable to check comparison status. Please check the Reports tab manually.',error:'Failed to poll for results'});setIsRunning(false);}}};// Start polling after 30 seconds (give the comparison time to get started)\nsetTimeout(pollForResults,30000);}catch(error){console.error('Comparison startup failed:',error);setComparisonResult({message:'‚ùå Failed to start comparison',error:error.message});setIsRunning(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"config-status\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u2699\\uFE0F Configuration Status\"}),configStatus?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[configStatus.supabase_configured?'‚úÖ':'‚ùå',\" Database (Supabase)\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[configStatus.brightpearl_configured?'‚úÖ':'‚ö†Ô∏è',\" Brightpearl API\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[configStatus.infoplus_configured?'‚úÖ':'‚ö†Ô∏è',\" Infoplus API\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[configStatus.email_configured?'‚úÖ':'‚ö†Ô∏è',\" Email Configuration\"]})]}),configStatus.overall_ready?/*#__PURE__*/_jsx(\"p\",{style:{color:'green',fontWeight:'bold'},children:\"\\uD83C\\uDF89 System fully configured and ready!\"}):/*#__PURE__*/_jsx(\"p\",{style:{color:'orange'},children:\"\\u26A0\\uFE0F Settings panel will be available once all APIs are configured.\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading configuration status...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:loadConfigStatus,className:\"btn-secondary\",children:\"Refresh Status\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"System Status\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2705 Online\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Connected to Supabase\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Latest Report\"}),/*#__PURE__*/_jsx(\"p\",{children:latestReport?`${latestReport.total_discrepancies} discrepancies`:'No reports yet'}),/*#__PURE__*/_jsx(\"small\",{children:latestReport?new Date(latestReport.created_at).toLocaleString():'Run your first comparison'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Scheduled Run\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Daily at 7:00 PM\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Automated daily comparisons\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"manual-run\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Manual Inventory Comparison\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Run an inventory comparison between Brightpearl and Infoplus systems.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:runComparison,disabled:isRunning||!(configStatus!==null&&configStatus!==void 0&&configStatus.overall_ready),className:\"btn-primary\",children:isRunning?'Running Comparison...':'Run Comparison Now'}),comparisonResult&&/*#__PURE__*/_jsx(\"div\",{className:\"comparison-result\",children:comparisonResult.error?/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",comparisonResult.error]}):/*#__PURE__*/_jsxs(\"div\",{className:\"success-message\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u2705 Comparison Complete!\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Discrepancies:\"}),\" \",comparisonResult.totalDiscrepancies]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",comparisonResult.message]}),comparisonResult.totalDiscrepancies>0&&/*#__PURE__*/_jsxs(\"details\",{children:[/*#__PURE__*/_jsxs(\"summary\",{children:[\"View Discrepancies (\",comparisonResult.discrepancies.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"discrepancies-table\",children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"SKU\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Brightpearl\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Infoplus\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Difference\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:comparisonResult.discrepancies.slice(0,10).map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.sku}),/*#__PURE__*/_jsx(\"td\",{children:item.brightpearl_stock}),/*#__PURE__*/_jsx(\"td\",{children:item.infoplus_stock}),/*#__PURE__*/_jsxs(\"td\",{style:{color:item.difference<0?'red':'green'},children:[item.difference>0?'+':'',item.difference]})]},index))})]}),comparisonResult.discrepancies.length>10&&/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"em\",{children:[\"Showing first 10 of \",comparisonResult.discrepancies.length,\" discrepancies\"]})})]})]})]})})]})]});}// Settings Component\nfunction Settings(){return/*#__PURE__*/_jsxs(\"div\",{className:\"settings\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"config-status\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCE7 Email Configuration\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Configure email settings for automated reports. Only admin users can modify settings.\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Settings panel will be available once all APIs are configured.\"})]});}// Reports Component\nfunction Reports(_ref3){let{token}=_ref3;const[reports,setReports]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{loadReports();},[]);const loadReports=async()=>{try{const response=await fetch(`${API_BASE}/reports`,{headers:{'Authorization':`Bearer ${token}`}});const data=await response.json();setReports(data);}catch(error){console.error('Error loading reports:',error);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading reports...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"reports\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reports History (Last 30 Days)\"}),reports.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No reports available yet. Run your first comparison!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"reports-list\",children:reports.map((report,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"report-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"report-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"report-date\",children:report.date}),/*#__PURE__*/_jsxs(\"span\",{className:`discrepancies-badge ${report.total_discrepancies>0?'has-discrepancies':'no-discrepancies'}`,children:[report.total_discrepancies,\" discrepancies\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"report-time\",children:new Date(report.created_at).toLocaleString()})]}),report.total_discrepancies>0&&/*#__PURE__*/_jsxs(\"details\",{className:\"report-details\",children:[/*#__PURE__*/_jsx(\"summary\",{children:\"View Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"discrepancies-summary\",children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"SKU\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Brightpearl\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Infoplus\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Diff\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:report.discrepancies.slice(0,5).map((item,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.sku}),/*#__PURE__*/_jsx(\"td\",{children:item.productName||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:item.brightpearl_stock}),/*#__PURE__*/_jsx(\"td\",{children:item.infoplus_stock}),/*#__PURE__*/_jsxs(\"td\",{style:{color:item.difference<0?'red':'green'},children:[item.difference>0?'+':'',item.difference]})]},idx))})]}),report.discrepancies.length>5&&/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"em\",{children:[\"Showing 5 of \",report.discrepancies.length,\" discrepancies\"]})})]})]})]},report.id||index))})]});}// Users Component (Admin only)\nfunction Users(_ref4){let{token,user}=_ref4;const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{if(user.role==='admin'){loadUsers();}},[user.role]);const loadUsers=async()=>{try{const response=await fetch(`${API_BASE}/users`,{headers:{'Authorization':`Bearer ${token}`}});const data=await response.json();setUsers(data);}catch(error){console.error('Error loading users:',error);}finally{setLoading(false);}};if(user.role!=='admin'){return/*#__PURE__*/_jsx(\"div\",{children:\"Access denied. Admin privileges required.\"});}if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading users...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"users\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Management\"}),/*#__PURE__*/_jsx(\"p\",{children:\"User management panel available for admin users.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"users-list\",children:users.map(u=>/*#__PURE__*/_jsx(\"div\",{className:\"user-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:u.username}),\" (\",u.role,\")\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:u.email}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{children:[\"Last login: \",u.last_login?new Date(u.last_login).toLocaleString():'Never']})]})},u.id))})]});}// Main App Component\nfunction App(){const[isAuthenticated,setIsAuthenticated]=useState(false);const[user,setUser]=useState(null);const[token,setToken]=useState(null);const[currentTab,setCurrentTab]=useState('dashboard');const[isLoading,setIsLoading]=useState(true);useEffect(()=>{// Check for existing authentication\nconst savedToken=localStorage.getItem('token');const savedUser=localStorage.getItem('user');if(savedToken&&savedUser){setToken(savedToken);setUser(JSON.parse(savedUser));setIsAuthenticated(true);}setIsLoading(false);},[]);const handleLogin=(userData,userToken)=>{setUser(userData);setToken(userToken);setIsAuthenticated(true);};const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('user');setIsAuthenticated(false);setUser(null);setToken(null);};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"})});}if(!isAuthenticated){return/*#__PURE__*/_jsx(Login,{onLogin:handleLogin});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Texon Inventory Comparison\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",user.username]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn-logout\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"button\",{className:currentTab==='dashboard'?'active':'',onClick:()=>setCurrentTab('dashboard'),children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{className:currentTab==='settings'?'active':'',onClick:()=>setCurrentTab('settings'),children:\"Settings\"}),/*#__PURE__*/_jsx(\"button\",{className:currentTab==='reports'?'active':'',onClick:()=>setCurrentTab('reports'),children:\"Reports\"}),user.role==='admin'&&/*#__PURE__*/_jsx(\"button\",{className:currentTab==='users'?'active':'',onClick:()=>setCurrentTab('users'),children:\"Users\"})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[currentTab==='dashboard'&&/*#__PURE__*/_jsx(Dashboard,{token:token}),currentTab==='settings'&&/*#__PURE__*/_jsx(Settings,{}),currentTab==='reports'&&/*#__PURE__*/_jsx(Reports,{token:token}),currentTab==='users'&&/*#__PURE__*/_jsx(Users,{token:token,user:user})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","API_BASE","Login","_ref","onLogin","credentials","setCredentials","username","password","isLoading","setIsLoading","error","setError","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","localStorage","setItem","token","user","className","children","onSubmit","type","value","onChange","target","required","autoComplete","disabled","Dashboard","_ref2","configStatus","setConfigStatus","latestReport","setLatestReport","isRunning","setIsRunning","comparisonResult","setComparisonResult","loadConfigStatus","loadLatestReport","console","runComparison","message","catch","err","log","comparisonStartTime","Date","attempts","maxAttempts","pollForResults","reportsResponse","created_at","reportTime","successResult","success","totalDiscrepancies","total_discrepancies","brightpearlItems","brightpearl_total_items","infoplusItems","infoplus_total_items","discrepancies","parse","elapsed","Math","floor","setTimeout","pollError","supabase_configured","brightpearl_configured","infoplus_configured","email_configured","overall_ready","style","color","fontWeight","onClick","toLocaleString","length","slice","map","item","index","sku","brightpearl_stock","infoplus_stock","difference","Settings","Reports","_ref3","reports","setReports","loading","setLoading","loadReports","report","date","idx","productName","id","Users","_ref4","users","setUsers","role","loadUsers","u","email","last_login","App","isAuthenticated","setIsAuthenticated","setUser","setToken","currentTab","setCurrentTab","savedToken","getItem","savedUser","handleLogin","userData","userToken","handleLogout","removeItem"],"sources":["/home/collegesportsdir/public_html/texon-inventory-comparison/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nconst API_BASE = '/texon-inventory-comparison/api';\n\n// Login Component\nfunction Login({ onLogin }) {\n  const [credentials, setCredentials] = useState({ username: '', password: '' });\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError('');\n\n    try {\n      const response = await fetch(`${API_BASE}/auth/login`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(credentials)\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('user', JSON.stringify(data.user));\n        onLogin(data.user, data.token);\n      } else {\n        setError(data.error || 'Login failed');\n      }\n    } catch (error) {\n      setError('Network error. Please try again.');\n    }\n\n    setIsLoading(false);\n  };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-form\">\n        <h1>Texon Inventory Comparison</h1>\n        <p>Please log in to access the inventory management system</p>\n        \n        {error && <div className=\"error-message\">{error}</div>}\n        \n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label>Username:</label>\n            <input\n              type=\"text\"\n              value={credentials.username}\n              onChange={(e) => setCredentials({...credentials, username: e.target.value})}\n              required\n              autoComplete=\"username\"\n            />\n          </div>\n          \n          <div className=\"form-group\">\n            <label>Password:</label>\n            <input\n              type=\"password\"\n              value={credentials.password}\n              onChange={(e) => setCredentials({...credentials, password: e.target.value})}\n              required\n              autoComplete=\"current-password\"\n            />\n          </div>\n          \n          <button type=\"submit\" disabled={isLoading} className=\"btn-primary\">\n            {isLoading ? 'Logging in...' : 'Login'}\n          </button>\n        </form>\n        \n        <div className=\"login-help\">\n          <p><strong>Default Admin Credentials:</strong></p>\n          <p>Username: <code>admin</code></p>\n          <p>Password: <code>changeme123</code></p>\n          <small>‚ö†Ô∏è Change these after first login!</small>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Dashboard Component\nfunction Dashboard({ token }) {\n  const [configStatus, setConfigStatus] = useState(null);\n  const [latestReport, setLatestReport] = useState(null);\n  const [isRunning, setIsRunning] = useState(false);\n  const [comparisonResult, setComparisonResult] = useState(null);\n\n  useEffect(() => {\n    loadConfigStatus();\n    loadLatestReport();\n  }, []);\n\n  const loadConfigStatus = async () => {\n    try {\n      const response = await fetch(`${API_BASE}/config-status`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      const data = await response.json();\n      setConfigStatus(data);\n    } catch (error) {\n      console.error('Error loading config status:', error);\n    }\n  };\n\n  const loadLatestReport = async () => {\n    try {\n      const response = await fetch(`${API_BASE}/latest-report`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      const data = await response.json();\n      setLatestReport(data);\n    } catch (error) {\n      console.error('Error loading latest report:', error);\n    }\n  };\n\n  const runComparison = async () => {\n    setIsRunning(true);\n    setComparisonResult({ message: 'üîÑ Starting inventory comparison...' });\n  \n    try {\n      // Start the comparison (don't wait for completion)\n      fetch(`${API_BASE}/run-comparison`, {\n        method: 'POST',\n        headers: { 'Authorization': `Bearer ${token}` }\n      }).catch(err => {\n        console.log('Background comparison may have completed despite error:', err);\n      });\n  \n      // Remember the start time to identify new reports\n      const comparisonStartTime = new Date();\n  \n      // Poll for results every 10 seconds\n      let attempts = 0;\n      const maxAttempts = 36; // 6 minutes total (36 * 10 seconds)\n  \n      const pollForResults = async () => {\n        attempts++;\n  \n        try {\n          // Check for new reports\n          const reportsResponse = await fetch(`${API_BASE}/latest-report`, {\n            headers: { 'Authorization': `Bearer ${token}` }\n          });\n  \n          if (reportsResponse.ok) {\n            const latestReport = await reportsResponse.json();\n  \n            // Check if this is a new report (created after we started)\n            if (latestReport && latestReport.created_at) {\n              const reportTime = new Date(latestReport.created_at);\n  \n              if (reportTime > comparisonStartTime) {\n                // New report found! Comparison completed successfully\n                const successResult = {\n                  success: true,\n                  totalDiscrepancies: latestReport.total_discrepancies,\n                  brightpearlItems: latestReport.brightpearl_total_items,\n                  infoplusItems: latestReport.infoplus_total_items,\n                  discrepancies: JSON.parse(latestReport.discrepancies || '[]'),\n                  message: `‚úÖ Comparison completed! Found ${latestReport.total_discrepancies} discrepancies.`\n                };\n  \n                setComparisonResult(successResult);\n                setLatestReport(latestReport); // Update the latest report display\n                setIsRunning(false);\n                return; // Success - stop polling\n              }\n            }\n          }\n  \n          // Not completed yet, continue polling if we haven't exceeded max attempts\n          if (attempts < maxAttempts) {\n            const elapsed = Math.floor(attempts * 10);\n            setComparisonResult({ \n              message: `üîÑ Comparison in progress... (${elapsed}s elapsed)` \n            });\n            setTimeout(pollForResults, 10000); // Check again in 10 seconds\n          } else {\n            // Timed out\n            setComparisonResult({ \n              message: '‚è∞ Comparison is taking longer than expected. Please check the Reports tab manually in a few minutes.',\n              error: 'Timeout - comparison may still be running in background'\n            });\n            setIsRunning(false);\n          }\n  \n        } catch (pollError) {\n          console.error('Polling error:', pollError);\n          \n          if (attempts < maxAttempts) {\n            // Continue polling despite the error\n            setTimeout(pollForResults, 10000);\n          } else {\n            setComparisonResult({ \n              message: '‚ö†Ô∏è Unable to check comparison status. Please check the Reports tab manually.',\n              error: 'Failed to poll for results'\n            });\n            setIsRunning(false);\n          }\n        }\n      };\n  \n      // Start polling after 30 seconds (give the comparison time to get started)\n      setTimeout(pollForResults, 30000);\n  \n    } catch (error) {\n      console.error('Comparison startup failed:', error);\n      setComparisonResult({ \n        message: '‚ùå Failed to start comparison',\n        error: error.message \n      });\n      setIsRunning(false);\n    }\n  };\n\n  return (\n    <div className=\"dashboard\">\n      <h2>Dashboard</h2>\n      \n      {/* Configuration Status */}\n      <div className=\"config-status\">\n        <h3>‚öôÔ∏è Configuration Status</h3>\n        {configStatus ? (\n          <div>\n            <ul>\n              <li>{configStatus.supabase_configured ? '‚úÖ' : '‚ùå'} Database (Supabase)</li>\n              <li>{configStatus.brightpearl_configured ? '‚úÖ' : '‚ö†Ô∏è'} Brightpearl API</li>\n              <li>{configStatus.infoplus_configured ? '‚úÖ' : '‚ö†Ô∏è'} Infoplus API</li>\n              <li>{configStatus.email_configured ? '‚úÖ' : '‚ö†Ô∏è'} Email Configuration</li>\n            </ul>\n            {configStatus.overall_ready ? (\n              <p style={{color: 'green', fontWeight: 'bold'}}>üéâ System fully configured and ready!</p>\n            ) : (\n              <p style={{color: 'orange'}}>‚ö†Ô∏è Settings panel will be available once all APIs are configured.</p>\n            )}\n          </div>\n        ) : (\n          <p>Loading configuration status...</p>\n        )}\n        <button onClick={loadConfigStatus} className=\"btn-secondary\">Refresh Status</button>\n      </div>\n\n      {/* Dashboard Stats */}\n      <div className=\"dashboard-stats\">\n        <div className=\"stat-card\">\n          <h3>System Status</h3>\n          <p>‚úÖ Online</p>\n          <small>Connected to Supabase</small>\n        </div>\n        \n        <div className=\"stat-card\">\n          <h3>Latest Report</h3>\n          <p>{latestReport ? `${latestReport.total_discrepancies} discrepancies` : 'No reports yet'}</p>\n          <small>{latestReport ? new Date(latestReport.created_at).toLocaleString() : 'Run your first comparison'}</small>\n        </div>\n        \n        <div className=\"stat-card\">\n          <h3>Scheduled Run</h3>\n          <p>Daily at 7:00 PM</p>\n          <small>Automated daily comparisons</small>\n        </div>\n      </div>\n\n      {/* Manual Run Section */}\n      <div className=\"manual-run\">\n        <h3>Manual Inventory Comparison</h3>\n        <p>Run an inventory comparison between Brightpearl and Infoplus systems.</p>\n        <button \n          onClick={runComparison} \n          disabled={isRunning || !configStatus?.overall_ready}\n          className=\"btn-primary\"\n        >\n          {isRunning ? 'Running Comparison...' : 'Run Comparison Now'}\n        </button>\n\n        {comparisonResult && (\n          <div className=\"comparison-result\">\n            {comparisonResult.error ? (\n              <div className=\"error-message\">\n                <strong>Error:</strong> {comparisonResult.error}\n              </div>\n            ) : (\n              <div className=\"success-message\">\n                <h4>‚úÖ Comparison Complete!</h4>\n                <p><strong>Total Discrepancies:</strong> {comparisonResult.totalDiscrepancies}</p>\n                <p><strong>Status:</strong> {comparisonResult.message}</p>\n                {comparisonResult.totalDiscrepancies > 0 && (\n                  <details>\n                    <summary>View Discrepancies ({comparisonResult.discrepancies.length})</summary>\n                    <div className=\"discrepancies-table\">\n                      <table>\n                        <thead>\n                          <tr>\n                            <th>SKU</th>\n                            <th>Brightpearl</th>\n                            <th>Infoplus</th>\n                            <th>Difference</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {comparisonResult.discrepancies.slice(0, 10).map((item, index) => (\n                            <tr key={index}>\n                              <td>{item.sku}</td>\n                              <td>{item.brightpearl_stock}</td>\n                              <td>{item.infoplus_stock}</td>\n                              <td style={{color: item.difference < 0 ? 'red' : 'green'}}>\n                                {item.difference > 0 ? '+' : ''}{item.difference}\n                              </td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                      {comparisonResult.discrepancies.length > 10 && (\n                        <p><em>Showing first 10 of {comparisonResult.discrepancies.length} discrepancies</em></p>\n                      )}\n                    </div>\n                  </details>\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// Settings Component\nfunction Settings() {\n  return (\n    <div className=\"settings\">\n      <h2>Settings</h2>\n      <div className=\"config-status\">\n        <h3>üìß Email Configuration</h3>\n        <p>Configure email settings for automated reports. Only admin users can modify settings.</p>\n      </div>\n      <p>Settings panel will be available once all APIs are configured.</p>\n    </div>\n  );\n}\n\n// Reports Component\nfunction Reports({ token }) {\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadReports();\n  }, []);\n\n  const loadReports = async () => {\n    try {\n      const response = await fetch(`${API_BASE}/reports`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      const data = await response.json();\n      setReports(data);\n    } catch (error) {\n      console.error('Error loading reports:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return <div>Loading reports...</div>;\n  }\n\n  return (\n    <div className=\"reports\">\n      <h2>Reports History (Last 30 Days)</h2>\n      \n      {reports.length === 0 ? (\n        <p>No reports available yet. Run your first comparison!</p>\n      ) : (\n        <div className=\"reports-list\">\n          {reports.map((report, index) => (\n            <div key={report.id || index} className=\"report-card\">\n              <div className=\"report-header\">\n                <span className=\"report-date\">{report.date}</span>\n                <span className={`discrepancies-badge ${report.total_discrepancies > 0 ? 'has-discrepancies' : 'no-discrepancies'}`}>\n                  {report.total_discrepancies} discrepancies\n                </span>\n                <span className=\"report-time\">{new Date(report.created_at).toLocaleString()}</span>\n              </div>\n              \n              {report.total_discrepancies > 0 && (\n                <details className=\"report-details\">\n                  <summary>View Details</summary>\n                  <div className=\"discrepancies-summary\">\n                    <table>\n                      <thead>\n                        <tr>\n                          <th>SKU</th>\n                          <th>Product</th>\n                          <th>Brightpearl</th>\n                          <th>Infoplus</th>\n                          <th>Diff</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {report.discrepancies.slice(0, 5).map((item, idx) => (\n                          <tr key={idx}>\n                            <td>{item.sku}</td>\n                            <td>{item.productName || 'N/A'}</td>\n                            <td>{item.brightpearl_stock}</td>\n                            <td>{item.infoplus_stock}</td>\n                            <td style={{color: item.difference < 0 ? 'red' : 'green'}}>\n                              {item.difference > 0 ? '+' : ''}{item.difference}\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                    {report.discrepancies.length > 5 && (\n                      <p><em>Showing 5 of {report.discrepancies.length} discrepancies</em></p>\n                    )}\n                  </div>\n                </details>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Users Component (Admin only)\nfunction Users({ token, user }) {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (user.role === 'admin') {\n      loadUsers();\n    }\n  }, [user.role]);\n\n  const loadUsers = async () => {\n    try {\n      const response = await fetch(`${API_BASE}/users`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      const data = await response.json();\n      setUsers(data);\n    } catch (error) {\n      console.error('Error loading users:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (user.role !== 'admin') {\n    return <div>Access denied. Admin privileges required.</div>;\n  }\n\n  if (loading) {\n    return <div>Loading users...</div>;\n  }\n\n  return (\n    <div className=\"users\">\n      <h2>User Management</h2>\n      <p>User management panel available for admin users.</p>\n      \n      <div className=\"users-list\">\n        {users.map(u => (\n          <div key={u.id} className=\"user-card\">\n            <div className=\"user-info\">\n              <strong>{u.username}</strong> ({u.role})\n              <br />\n              <small>{u.email}</small>\n              <br />\n              <small>Last login: {u.last_login ? new Date(u.last_login).toLocaleString() : 'Never'}</small>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// Main App Component\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(null);\n  const [currentTab, setCurrentTab] = useState('dashboard');\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    // Check for existing authentication\n    const savedToken = localStorage.getItem('token');\n    const savedUser = localStorage.getItem('user');\n    \n    if (savedToken && savedUser) {\n      setToken(savedToken);\n      setUser(JSON.parse(savedUser));\n      setIsAuthenticated(true);\n    }\n    \n    setIsLoading(false);\n  }, []);\n\n  const handleLogin = (userData, userToken) => {\n    setUser(userData);\n    setToken(userToken);\n    setIsAuthenticated(true);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    setIsAuthenticated(false);\n    setUser(null);\n    setToken(null);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading\">\n          Loading...\n        </div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return <Login onLogin={handleLogin} />;\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"app-header\">\n        <div className=\"header-content\">\n          <h1>Texon Inventory Comparison</h1>\n          <div className=\"user-info\">\n            <span>Welcome, {user.username}</span>\n            <button onClick={handleLogout} className=\"btn-logout\">\n              Logout\n            </button>\n          </div>\n        </div>\n        <nav>\n          <button \n            className={currentTab === 'dashboard' ? 'active' : ''} \n            onClick={() => setCurrentTab('dashboard')}\n          >\n            Dashboard\n          </button>\n          <button \n            className={currentTab === 'settings' ? 'active' : ''} \n            onClick={() => setCurrentTab('settings')}\n          >\n            Settings\n          </button>\n          <button \n            className={currentTab === 'reports' ? 'active' : ''} \n            onClick={() => setCurrentTab('reports')}\n          >\n            Reports\n          </button>\n          {user.role === 'admin' && (\n            <button \n              className={currentTab === 'users' ? 'active' : ''} \n              onClick={() => setCurrentTab('users')}\n            >\n              Users\n            </button>\n          )}\n        </nav>\n      </header>\n\n      <main className=\"main-content\">\n        {currentTab === 'dashboard' && <Dashboard token={token} />}\n        {currentTab === 'settings' && <Settings />}\n        {currentTab === 'reports' && <Reports token={token} />}\n        {currentTab === 'users' && <Users token={token} user={user} />}\n      </main>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}